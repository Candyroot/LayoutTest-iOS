

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Testing Other Objects &mdash; Layout Testing Library 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Layout Testing Library 1.0 documentation" href="../index.html"/>
        <link rel="next" title="Performance" href="100_performance.html"/>
        <link rel="prev" title="Config" href="080_config.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Layout Testing Library
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="000_gettingStarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="010_overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="020_writingTest.html">Writing Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="030_viewSizes.html">Testing Different View Sizes</a></li>
<li class="toctree-l1"><a class="reference internal" href="040_includedTests.html">Automatic Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="050_propertyTesting.html">Property Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="060_catalog.html">UI Catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="070_apis.html">Other APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="080_config.html">Config</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Testing Other Objects</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#sample-code">Sample Code</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="100_performance.html">Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="110_projectStructure.html">Project Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="120_FAQ.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="130_future.html">Future Plans</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Layout Testing Library</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>Testing Other Objects</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="../_sources/pages/090_testingOtherObjects.txt" rel="nofollow"> View page source</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="testing-other-objects">
<h1>Testing Other Objects<a class="headerlink" href="#testing-other-objects" title="Permalink to this headline">¶</a></h1>
<p>Usually, you want to test a UIView subclass, but sometimes, you need to track other objects as well. For instance, you may want to test the view of a UIViewController subclass. To test this, you need to have a reference to the UIViewController in your tests (to access IBOutlets and other things). To do this, you can use the context parameter. This can be used for many other things but testing UIViewControllers serves as a good example.</p>
<div class="section" id="sample-code">
<h2>Sample Code<a class="headerlink" href="#sample-code" title="Permalink to this headline">¶</a></h2>
<div class="highlight-objective-c"><div class="highlight"><pre><span class="c1">// Objective-C</span>
<span class="c1">// LYTViewProvider</span>
<span class="k">+</span> <span class="p">(</span><span class="n">UIView</span> <span class="o">*</span><span class="p">)</span><span class="nf">viewForData:</span><span class="p">(</span><span class="n">NSDictionary</span> <span class="o">*</span><span class="p">)</span><span class="nv">data</span>
              <span class="nl">reuseView:</span><span class="p">(</span><span class="n">nullable</span> <span class="n">UIView</span> <span class="o">*</span><span class="p">)</span><span class="nv">reuseView</span>
                   <span class="nl">size:</span><span class="p">(</span><span class="n">nullable</span> <span class="n">LYTViewSize</span> <span class="o">*</span><span class="p">)</span><span class="nv">size</span>
                <span class="nl">context:</span><span class="p">(</span><span class="kt">id</span> <span class="n">_Nullable</span> <span class="o">*</span> <span class="n">_Nullable</span><span class="p">)</span><span class="nv">context</span> <span class="p">{</span>
  <span class="c1">// Ignoring reuse because it doesn&#39;t make sense for testing UIViewController subclasses</span>
  <span class="n">SampleViewController</span> <span class="o">*</span><span class="n">controller</span> <span class="o">=</span> <span class="p">[[</span><span class="n">SampleViewController</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
  <span class="p">[</span><span class="n">controller</span> <span class="n">setupWithDictionary</span><span class="o">:</span><span class="n">data</span><span class="p">];</span>
  <span class="o">*</span><span class="n">context</span> <span class="o">=</span> <span class="n">controller</span><span class="p">;</span>
  <span class="k">return</span> <span class="n">controller</span><span class="p">.</span><span class="n">view</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// LYTLayoutTest</span>
<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">testViewController</span> <span class="p">{</span>
  <span class="p">[</span><span class="n">self</span> <span class="n">runLayoutTestsWithViewProvider</span><span class="o">:</span><span class="p">[</span><span class="n">SampleViewController</span> <span class="n">class</span><span class="p">]</span>
                            <span class="nl">validation:</span><span class="o">^</span><span class="p">(</span><span class="n">UIView</span> <span class="o">*</span> <span class="n">view</span><span class="p">,</span> <span class="n">NSDictionary</span> <span class="o">*</span> <span class="n">data</span><span class="p">,</span> <span class="kt">id</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">SampleViewController</span> <span class="o">*</span><span class="n">controller</span> <span class="o">=</span> <span class="n">context</span><span class="p">;</span>
    <span class="c1">// Rest of your test goes here</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-objective-c"><div class="highlight"><pre><span class="c1">// Swift</span>
<span class="c1">// LYTViewProvider</span>
<span class="n">class</span> <span class="n">func</span> <span class="nf">viewForData</span><span class="p">(</span><span class="n">data</span><span class="o">:</span> <span class="p">[</span><span class="n">NSObject</span><span class="o">:</span> <span class="n">AnyObject</span><span class="p">],</span>
                  <span class="nl">reuseView:</span> <span class="n">UIView</span><span class="o">?</span><span class="p">,</span>
                       <span class="nl">size:</span> <span class="n">LYTViewSize</span><span class="o">?</span><span class="p">,</span>
                    <span class="nl">context:</span> <span class="n">AutoreleasingUnsafeMutablePointer</span><span class="o">&lt;</span><span class="n">AnyObject</span><span class="o">?&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UIView</span> <span class="p">{</span>
  <span class="c1">// Ignoring reuse because it doesn&#39;t make sense for testing UIViewController subclasses</span>
  <span class="n">let</span> <span class="n">controller</span> <span class="o">=</span> <span class="n">SampleViewController</span><span class="p">()</span>
  <span class="n">controller</span><span class="p">.</span><span class="n">setupWithData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
  <span class="n">context</span><span class="p">.</span><span class="n">memory</span> <span class="o">=</span> <span class="n">controller</span>
  <span class="k">return</span> <span class="n">controller</span><span class="p">.</span><span class="n">view</span>
<span class="p">}</span>

<span class="c1">// LayoutTest</span>
<span class="n">func</span> <span class="n">testViewController</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">runLayoutTestsWithViewProvider</span><span class="p">(</span><span class="n">SampleViewController</span><span class="p">.</span><span class="n">self</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="n">view</span><span class="o">:</span> <span class="n">UIView</span><span class="p">,</span> <span class="n">data</span><span class="o">:</span> <span class="p">[</span><span class="n">NSObject</span><span class="o">:</span> <span class="n">AnyObject</span><span class="p">],</span> <span class="n">context</span><span class="o">:</span> <span class="n">Any</span><span class="o">?</span><span class="p">)</span> <span class="k">in</span>
    <span class="n">let</span> <span class="n">controller</span> <span class="o">=</span> <span class="n">context</span> <span class="n">as</span><span class="o">!</span> <span class="n">SampleViewController</span>
    <span class="c1">// Rest of your test goes here</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="100_performance.html" class="btn btn-neutral float-right" title="Performance" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="080_config.html" class="btn btn-neutral" title="Config" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, LinkedIn.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>